# =============================================================================
# Kustomization - Develop Environment (Kind)
# =============================================================================
# 적용: kubectl apply -k k8s/overlays/develop
#
# 이 overlay는 로컬 Kind 클러스터용 설정입니다.
# - namespace: wealist-dev
# - 리소스 제한: 낮음 (로컬 리소스 절약)
# - 로그 레벨: debug

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: wealist-dev

resources:
  - ../../base/namespace-dev
  - ../../base/shared
  - ingress.yaml

labels:
  - pairs:
      app.kubernetes.io/env: develop
    includeSelectors: false

# ConfigMap 값 오버라이드
patches:
  - target:
      kind: ConfigMap
      name: wealist-shared-config
    patch: |-
      - op: replace
        path: /data/ENV
        value: "develop"
      - op: replace
        path: /data/LOG_LEVEL
        value: "debug"
