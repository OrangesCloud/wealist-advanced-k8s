# coturn TURN server configuration
# For production deployment

# Listener IP
listening-ip=0.0.0.0

# TURN listener port
listening-port=3478

# TLS listening port
tls-listening-port=5349

# External IP - SET THIS TO YOUR PUBLIC IP
# external-ip=YOUR_PUBLIC_IP

# Realm - your domain
realm=${TURN_REALM}

# Server name
server-name=wealist-turn

# Authentication
lt-cred-mech

# Use Redis for user database (dynamic credentials)
# redis-userdb="ip=redis port=6379 dbname=3 password=${REDIS_PASSWORD}"

# Or use static credentials
# user=username:password

# TLS certificates
cert=/etc/coturn/certs/turn_server_cert.pem
pkey=/etc/coturn/certs/turn_server_pkey.pem

# Disable CLI
no-cli

# Log to stdout for Docker
log-file=stdout

# Fingerprint in TURN messages
fingerprint

# Mobility with ICE
mobility

# Port range for relay
min-port=49152
max-port=65535

# Security settings
no-multicast-peers
no-loopback-peers

# Stale nonce lifetime
stale-nonce=600

# Max allocations per user
user-quota=12
total-quota=1200
